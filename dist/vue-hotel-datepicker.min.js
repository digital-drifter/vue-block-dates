!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("vue-property-decorator"),require("@fortawesome/vue-fontawesome"),require("vuejs-datepicker"),require("v-tooltip"),require("dayjs"),require("@fortawesome/fontawesome-svg-core"),require("@fortawesome/free-solid-svg-icons")):"function"==typeof define&&define.amd?define(["vue-property-decorator","@fortawesome/vue-fontawesome","vuejs-datepicker","v-tooltip","dayjs","@fortawesome/fontawesome-svg-core","@fortawesome/free-solid-svg-icons"],t):e.vueHotelDatePicker=t(e["vue-property-decorator"],null,null,null,null,null,null)}(this,function(e,t,n,r,o,s,i){"use strict";n=n&&n.hasOwnProperty("default")?n.default:n,r=r&&r.hasOwnProperty("default")?r.default:r;var a="default"in o?o.default:o,c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function l(e,t){function n(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function u(e,t,n,r){var o,s=arguments.length,i=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i}function d(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function p(e,t){var n,r,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}var f=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="SearchOverlay",e}return l(n,t),Object.defineProperty(n.prototype,"style",{get:function(){return{position:"absolute",display:this.searching?"block":"none",backgroundColor:"rgba(0,0,0,0.25)",width:"100%",height:"100%",top:0,left:0,zIndex:10}},enumerable:!0,configurable:!0}),u([e.Prop({type:Boolean,default:!1}),d("design:type",Boolean)],n.prototype,"searching",void 0),n=u([e.Component],n)}(e.Vue),h=function(){var e=this.$createElement;return(this._self._c||e)("div",{style:this.style},[this._m(0)])};h._withStripped=!0;var y,m,v,g,b,k=(y={render:h,staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex flex-column justify-content-center align-items-center h-100"},[n("div",{staticClass:"sk-cube-grid"},[n("div",{staticClass:"sk-cube sk-cube1"}),e._v(" "),n("div",{staticClass:"sk-cube sk-cube2"}),e._v(" "),n("div",{staticClass:"sk-cube sk-cube3"}),e._v(" "),n("div",{staticClass:"sk-cube sk-cube4"}),e._v(" "),n("div",{staticClass:"sk-cube sk-cube5"}),e._v(" "),n("div",{staticClass:"sk-cube sk-cube6"}),e._v(" "),n("div",{staticClass:"sk-cube sk-cube7"}),e._v(" "),n("div",{staticClass:"sk-cube sk-cube8"}),e._v(" "),n("div",{staticClass:"sk-cube sk-cube9"})])])}]},v=void 0,g=!1,(b=("function"==typeof(m=f)?m.options:m)||{}).__file="/var/workspace/projects/vue-hotel-datepicker/src/components/SearchOverlay.vue",b.render||(b.render=y.render,b.staticRenderFns=y.staticRenderFns,b._compiled=!0,g&&(b.functional=!0)),b._scopeId=v,b),_=function(s){function i(){var e=null!==s&&s.apply(this,arguments)||this;return e.name="HotelDatePicker",e.selected={start:null,end:null},e}return l(i,s),Object.defineProperty(i.prototype,"cursor",{get:function(){return!this.searching&&this.checkin&&this.checkout?"pointer":"not-allowed"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"searchIcon",{get:function(){return this.searching?"spinner":"search"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"searchText",{get:function(){return this.searching?"Searching...":"Search"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"searchDisabled",{get:function(){return!(this.checkin&&this.checkout)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"searchStyle",{get:function(){return{color:this.searchDisabled?"grey":"rgba(236,239,241,1)",backgroundColor:this.searchDisabled?"rgba(238,238,238,1)":"rgba(61,90,254,1)"}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"disabledDates",{get:function(){return{to:this.startDate.toDate(),from:this.endDate.toDate()}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"highlighted",{get:function(){return{to:this.checkout,from:this.checkin}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"checkin",{get:function(){return this.selected.start},set:function(e){this.selected.start=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"checkout",{get:function(){return this.selected.end},set:function(e){this.selected.end=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"search",{get:function(){return this.$refs.search},enumerable:!0,configurable:!0}),i.prototype.onMouseover=function(e){e.target.style.cursor=this.cursor},i.prototype.onClear=function(){this.checkin=null,this.checkout=null},i.prototype.onSelected=function(e){var t=e||null;switch(!0){case!!this.checkin&&!!this.checkout||this.checkin&&this.checkin>=t:this.checkout=null,this.checkin=t;break;case!this.checkin:this.checkin=t;break;default:this.checkout=t}this.$emit("checkin",this.checkin),this.$emit("checkout",this.checkout),this.toggleSearchDisabled()},i.prototype.onSearch=function(){if(this.searching||this.searchDisabled)return!1;this.$emit("search",{checkin:this.checkin,checkout:this.checkout})},i.prototype.toggleSearchDisabled=function(){this.searchDisabled?this.search.classList.add("search--disabled"):this.search.classList.remove("search--disabled")},u([e.Prop({type:Boolean,default:!0}),d("design:type",Boolean)],i.prototype,"bootstrapStyling",void 0),u([e.Prop({type:Boolean,default:!1}),d("design:type",Boolean)],i.prototype,"searching",void 0),u([e.Prop({type:Boolean,default:!1}),d("design:type",Boolean)],i.prototype,"clearButton",void 0),u([e.Prop({type:Boolean,default:!0}),d("design:type",Boolean)],i.prototype,"inline",void 0),u([e.Prop({type:String,default:"Select Dates"}),d("design:type",String)],i.prototype,"title",void 0),u([e.Prop({type:String,default:"MMMM D, YYYY"}),d("design:type",String)],i.prototype,"format",void 0),u([e.Prop({type:o.Dayjs,required:!0}),d("design:type",o.Dayjs)],i.prototype,"startDate",void 0),u([e.Prop({type:o.Dayjs,required:!0}),d("design:type",o.Dayjs)],i.prototype,"endDate",void 0),u([e.Prop({type:Object,default:function(){return{color:"rgba(236,239,241,1)",backgroundColor:"rgba(0,150,136,1)"}}}),d("design:type",Object)],i.prototype,"theme",void 0),i=u([e.Component({components:{FontAwesomeIcon:t.FontAwesomeIcon,SearchOverlay:k,VueDatepicker:n},directives:{tooltip:r},filters:{formatDate:function(e,t){var n=a(e);return n.isValid()?n.format(t):"N/A"}}})],i)}(e.Vue),w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"card"},[n("search-overlay",{attrs:{searching:e.searching}}),e._v(" "),n("div",{staticClass:"card-header d-flex flex-row justify-content-between",style:e.theme},[n("span",[n("font-awesome-icon",{attrs:{icon:"calendar"}}),e._v(" "),n("span",{staticClass:"pl-2 font-weight-bold"},[e._v(e._s(e.title))])],1),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:e.checkin||e.checkout,expression:"checkin || checkout"},{name:"tooltip",rawName:"v-tooltip",value:{content:""},expression:"{ content: '' }"}]},[n("font-awesome-icon",{staticStyle:{cursor:"pointer"},attrs:{icon:"times"},on:{click:e.onClear}})],1)]),e._v(" "),n("div",{staticClass:"card-body p-0"},[n("div",{staticClass:"d-flex justify-content-center"},[n("vue-datepicker",{attrs:{disabledDates:e.disabledDates,highlighted:e.highlighted,inline:e.inline,"clear-button":e.clearButton,"bootstrap-styling":e.bootstrapStyling},on:{selected:e.onSelected}})],1)]),e._v(" "),n("ul",{staticClass:"list-group list-group-flush"},[n("li",{staticClass:"list-group-item d-flex flex-row justify-content-between",style:e.theme},[n("span",{staticClass:"font-weight-light"},[e._v("Check In")]),e._v(" "),n("span",{staticClass:"font-weight-bold"},[e._v(e._s(e._f("formatDate")(e.checkin,e.format)))])]),e._v(" "),n("li",{staticClass:"list-group-item d-flex flex-row justify-content-between",style:e.theme},[n("span",{staticClass:"font-weight-light"},[e._v("Check Out")]),e._v(" "),n("span",{staticClass:"font-weight-bold"},[e._v(e._s(e._f("formatDate")(e.checkout,e.format)))])]),e._v(" "),n("li",{ref:"search",staticClass:"list-group-item text-center search--disabled",style:e.searchStyle,on:{click:e.onSearch,mouseover:e.onMouseover}},[n("font-awesome-icon",{attrs:{icon:e.searchIcon,spin:e.searching}}),e._v(" "),n("span",{staticClass:"pl-2",domProps:{textContent:e._s(e.searchText)}})],1)])],1)};w._withStripped=!0;var C=function(e,t,n,r,o,s,i,a){var c=("function"==typeof n?n.options:n)||{};return c.__file="/var/workspace/projects/vue-hotel-datepicker/src/components/HotelDatePicker.vue",c.render||(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0,o&&(c.functional=!0)),c._scopeId=r,c}({render:w,staticRenderFns:[]},0,_,void 0,!1),S=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return l(n,t),u([e.Prop({required:!0}),d("design:type",String)],n.prototype,"name",void 0),u([e.Prop({required:!1,default:null}),d("design:type",String)],n.prototype,"description",void 0),u([e.Prop({required:!0}),d("design:type",Number)],n.prototype,"rate",void 0),u([e.Prop({required:!1,default:null}),d("design:type",String)],n.prototype,"image",void 0),u([e.Prop({required:!1,default:null}),d("design:type",String)],n.prototype,"imageAlt",void 0),u([e.Prop({required:!1,default:null}),d("design:type",String)],n.prototype,"website",void 0),u([e.Prop({required:!1,default:null}),d("design:type",String)],n.prototype,"cancellationPolicy",void 0),n=u([e.Component({filters:{nightly:function(e){return"$"+e+" / night"}}})],n)}(e.Vue),D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"card",staticStyle:{border:"none"}},[n("img",{staticClass:"card-img-top",attrs:{src:e.image,alt:e.imageAlt}}),e._v(" "),n("div",{staticClass:"card-body"},[n("h5",{staticClass:"card-title",domProps:{textContent:e._s(e.name)}}),e._v(" "),n("div",{staticClass:"card-text",domProps:{textContent:e._s(e.description)}})]),e._v(" "),n("div",{staticClass:"card-footer d-flex justify-content-between w-100"},[n("span",[e._v(e._s(e._f("nightly")(e.rate)))]),e._v(" "),n("span",[e._v("Book Now")])])])};D._withStripped=!0;var P=function(e,t,n,r,o,s,i,a){var c=("function"==typeof n?n.options:n)||{};return c.__file="/var/workspace/projects/vue-hotel-datepicker/src/components/Hotel.vue",c.render||(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0,o&&(c.functional=!0)),c._scopeId=r,c}({render:D,staticRenderFns:[]},0,S,void 0,!1),j=function(n){function r(){var e=null!==n&&n.apply(this,arguments)||this;return e.name="ResultsModal",e}return l(r,n),r.prototype.onMouseover=function(e){e.target.style.cursor="pointer"},r.prototype.onClose=function(){this.$emit("close")},u([e.Prop({type:Array,required:!0}),d("design:type",Array)],r.prototype,"items",void 0),r=u([e.Component({components:{Hotel:P,FontAwesomeIcon:t.FontAwesomeIcon},filters:{results:function(e){var t=e.length;return t>1?"Found "+t+" results":"Found "+t+" result"}}})],r)}(e.Vue),x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"modal"}},[n("div",{staticClass:"modal-mask"},[n("div",{staticClass:"modal-wrapper"},[n("div",{staticClass:"modal-container"},[n("div",{staticClass:"modal-header d-flex flex-row justify-content-between w-100",staticStyle:{"background-color":"rgba(0,150,136,1)",color:"white"}},[n("div",{on:{click:e.onClose,mouseover:e.onMouseover}},[n("font-awesome-icon",{attrs:{icon:"arrow-left"}}),e._v("\n                        Back\n                    ")],1),e._v(" "),n("div",[e._v(e._s(e._f("results")(e.items)))])]),e._v(" "),n("div",{staticClass:"modal-body"},e._l(e.items,function(e,t){return n("hotel",{key:t,attrs:{name:e.name,rate:e.rate,image:e.image,description:e.description}})}))])])])])};x._withStripped=!0;var A=function(e,t,n,r,o,s,i,a){var c=("function"==typeof n?n.options:n)||{};return c.__file="/var/workspace/projects/vue-hotel-datepicker/src/components/ResultsModal.vue",c.render||(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0,o&&(c.functional=!0)),c._scopeId=r,c}({render:x,staticRenderFns:[]},0,j,void 0,!1),q={ArrowLeft:i.faArrowLeft,Calendar:i.faCalendar,Search:i.faSearch,Spinner:i.faSpinner,Times:i.faTimes};s.library.add(q.ArrowLeft),s.library.add(q.Calendar),s.library.add(q.Search),s.library.add(q.Spinner),s.library.add(q.Times);var O=function(n){function r(){var e=null!==n&&n.apply(this,arguments)||this;return e.name="VueHotelDatePicker",e.results=[],e.searching=!1,e}return l(r,n),Object.defineProperty(r.prototype,"range",{get:function(){return{start:a(this.startDate),end:a(this.endDate)}},enumerable:!0,configurable:!0}),r.prototype.onSearch=function(e){return t=this,n=void 0,o=function(){var e=this;return p(this,function(t){switch(t.label){case 0:return this.searching=!this.searching,[4,fetch(this.request).then(function(e){return e.json()}).catch(function(e){return console.log(Object.keys(e)),console.log(e.response),console.log(e.config),console.log(e.request),e}).then(function(t){e.searching=!e.searching,Array.isArray(t)&&(e.results=t)})];case 1:return t.sent(),[2]}})},new((r=void 0)||(r=Promise))(function(e,s){function i(e){try{c(o.next(e))}catch(e){s(e)}}function a(e){try{c(o.throw(e))}catch(e){s(e)}}function c(t){t.done?e(t.value):new r(function(e){e(t.value)}).then(i,a)}c((o=o.apply(t,n||[])).next())});var t,n,r,o},r.prototype.onClose=function(){this.results.splice(0,this.results.length)},u([e.Prop({type:Request,required:!0}),d("design:type",Request)],r.prototype,"request",void 0),u([e.Prop({type:Date,required:!0}),d("design:type",Date)],r.prototype,"startDate",void 0),u([e.Prop({type:Date,required:!0}),d("design:type",Date)],r.prototype,"endDate",void 0),r=u([e.Component({components:{HotelDatePicker:C,SearchOverlay:k,FontAwesomeIcon:t.FontAwesomeIcon,ResultsModal:A}})],r)}(e.Vue),R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex justify-content-center"},[n("transition-group",{attrs:{name:"fade",mode:"out-in"}},[e.results.length?e._t("results",[n("results-modal",{key:"results-list",attrs:{items:e.results},on:{close:e.onClose}})]):n("hotel-date-picker",{key:"date-picker",attrs:{searching:e.searching,"start-date":e.range.start,"end-date":e.range.end},on:{search:e.onSearch}})],2)],1)};R._withStripped=!0;return function(e,t,n,r,o,s,i,a){var c,l=("function"==typeof n?n.options:n)||{};if(l.__file="/var/workspace/projects/vue-hotel-datepicker/src/components/VueHotelDatePicker.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,o&&(l.functional=!0)),l._scopeId=r,t&&(c=function(e){t.call(this,i(e))}),void 0!==c)if(l.functional){var u=l.render;l.render=function(e,t){return c.call(t),u(e,t)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return l}({render:R,staticRenderFns:[]},function(e){e&&e("data-v-7bd41ecb_0",{source:"\n* {\n    border-radius: 0 !important;\n}\n",map:{version:3,sources:["/var/workspace/projects/vue-hotel-datepicker/src/components/VueHotelDatePicker.vue"],names:[],mappings:";AAyGA;IACA,4BAAA;CACA",file:"VueHotelDatePicker.vue",sourcesContent:['<template>\n    <div class="d-flex justify-content-center">\n        <transition-group name="fade" mode="out-in">\n            <hotel-date-picker\n                    v-if="!results.length"\n                    key="date-picker"\n                    :searching="searching"\n                    :start-date="range.start"\n                    :end-date="range.end"\n                    @search="onSearch">\n            </hotel-date-picker>\n            <slot name="results" v-else>\n                <results-modal\n                        @close="onClose"\n                        key="results-list"\n                        :items="results">\n                </results-modal>\n            </slot>\n        </transition-group>\n    </div>\n</template>\n\n<script lang="ts">\n  import { Component, Prop, Vue } from \'vue-property-decorator\'\n  import dayjs, { Dayjs } from \'dayjs\'\n  import { IconDefinition, library } from \'@fortawesome/fontawesome-svg-core\'\n  import { faArrowLeft, faCalendar, faSearch, faSpinner, faTimes } from \'@fortawesome/free-solid-svg-icons\'\n  import { FontAwesomeIcon } from \'@fortawesome/vue-fontawesome\'\n  import HotelDatePicker from \'./HotelDatePicker.vue\'\n  import SearchOverlay from \'./SearchOverlay.vue\'\n  import ResultsModal from \'./ResultsModal.vue\'\n\n  const icons: { [key: string]: IconDefinition } = {\n    ArrowLeft: faArrowLeft,\n    Calendar: faCalendar,\n    Search: faSearch,\n    Spinner: faSpinner,\n    Times: faTimes\n  }\n\n  library.add(icons.ArrowLeft)\n  library.add(icons.Calendar)\n  library.add(icons.Search)\n  library.add(icons.Spinner)\n  library.add(icons.Times)\n\n  @Component({\n    components: {\n      HotelDatePicker,\n      SearchOverlay,\n      FontAwesomeIcon,\n      ResultsModal\n    }\n  })\n  export default class VueHotelDatePicker extends Vue {\n    public name: string = \'VueHotelDatePicker\'\n    public results: any[] = []\n    protected searching: boolean = false\n\n    @Prop({type: Request, required: true})\n    protected request: Request\n\n    @Prop({type: Date, required: true})\n    protected startDate: Date\n\n    @Prop({type: Date, required: true})\n    protected endDate: Date\n\n    get range (): { [key: string]: Dayjs } {\n      return {\n        start: dayjs(this.startDate),\n        end: dayjs(this.endDate)\n      }\n    }\n\n    protected async onSearch (dates: { [key: string]: Date }) {\n      this.searching = !this.searching\n\n      await fetch(this.request)\n        .then((response: Response) => {\n          return response.json()\n        })\n        .catch((error: any) => {\n          console.log(Object.keys(error))\n          console.log(error.response)\n          console.log(error.config)\n          console.log(error.request)\n          return error\n        })\n        .then((data: any) => {\n          this.searching = !this.searching\n\n          if (Array.isArray(data)) {\n            this.results = data\n          }\n        })\n    }\n\n    protected onClose () {\n      this.results.splice(0, this.results.length)\n    }\n  }\n<\/script>\n\n<style>\n    * {\n        border-radius: 0 !important;\n    }\n</style>\n']},media:void 0})},O,void 0,!1,0,function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),r="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,o){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var s=r?o.media||"default":e,i=n[s]||(n[s]={ids:[],parts:[],element:void 0});if(!i.ids.includes(e)){var a=o.source,c=i.ids.length;if(i.ids.push(e),r&&(i.element=i.element||document.querySelector("style[data-group="+s+"]")),!i.element){var l=i.element=document.createElement("style");l.type="text/css",o.media&&l.setAttribute("media",o.media),r&&(l.setAttribute("data-group",s),l.setAttribute("data-next-index","0")),t.appendChild(l)}if(r&&(c=parseInt(i.element.getAttribute("data-next-index")),i.element.setAttribute("data-next-index",c+1)),i.element.styleSheet)i.parts.push(a),i.element.styleSheet.cssText=i.parts.filter(Boolean).join("\n");else{var u=document.createTextNode(a),d=i.element.childNodes;d[c]&&i.element.removeChild(d[c]),d.length?i.element.insertBefore(u,d[c]):i.element.appendChild(u)}}}}})});
